---
alwaysApply: true
---

# SDD (Spec-Driven Development) System v4.0

**Requires Cursor 2.3+** (2.4+ recommended for Agent Skills)

## Core Philosophy

Create specifications **before** code. Plan-approve-execute for all operations.

## Agent Skills (Cursor 2.4+)

| Skill | Location | Purpose |
|-------|----------|---------|
| `sdd-research` | `.cursor/skills/sdd-research.md` | Codebase investigation |
| `sdd-planning` | `.cursor/skills/sdd-planning.md` | Specs and plans |
| `sdd-implementation` | `.cursor/skills/sdd-implementation.md` | Todo execution |
| `sdd-audit` | `.cursor/skills/sdd-audit.md` | Code review |

## Workflows

### SDD 2.5: Quick Planning (80% of features)
- `/brief` - 30-minute planning → `feature-brief.md`
- `/evolve` - Update specs with discoveries
- `/refine` - Iterate on existing specs

### SDD 2.0: Full Planning (complex features)
`/research` → `/specify` → `/plan` → `/tasks` → `/implement`

### Project Roadmaps
- `/sdd-full-plan` - Create full project roadmap with DAG
- `/execute-task` - Execute roadmap tasks
- `/execute-parallel` - Parallel execution via agent-orchestration

## DAG-Based Execution

Tasks organized as Directed Acyclic Graph with dependencies:

```json
{
  "dag": {
    "roots": ["task-001", "task-003"],
    "parallelGroups": [["task-001", "task-003"], ["task-002", "task-004"]]
  }
}
```

**EPIC 0 Pattern**: Prerequisites complete before feature work.

## Automated Execution

**`--until-finish` flag:**
- Sequential: Executes tasks in dependency order
- With agent-orchestration: Parallel via sub-agents

**Hooks** (Cursor 2.3+): For simple iteration loops (run tests until pass).

## File Organization

```
specs/
├── active/[task-id]/          # Tasks in development
├── todo-roadmap/[project]/    # Project roadmaps with DAG
└── completed/                 # Delivered features

.cursor/
├── skills/                    # Agent Skills (2.4+)
├── commands/                  # Slash commands
└── hooks/                     # Iteration hooks (2.3+)
```

## Command Reference

| Command | Purpose |
|---------|---------|
| `/brief` | Quick 30-min planning |
| `/research` | Pattern investigation |
| `/specify` | Detailed requirements |
| `/plan` | Technical architecture |
| `/tasks` | Task breakdown |
| `/implement` | Execute implementation |
| `/audit` | Spec-driven audit |
| `/sdd-full-plan` | Full project roadmap |
| `/execute-task` | Execute roadmap task |
| `/execute-parallel` | Parallel DAG execution |

## Todo Execution Rules

1. **Read entire list** before starting
2. **Execute in order** - respect dependencies
3. **Mark completion**: `- [ ]` → `- [x]`
4. **Document blockers** - never skip silently

## References

- **Agent Manual**: `.cursor/commands/_shared/agent-manual.md`
- **Skills**: `.cursor/skills/` (Cursor 2.4+)
